<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>KHIDKI</title>

    
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/owl.carousel.css">
    <link rel="stylesheet" href="css/owl.theme.css">
    <link rel="stylesheet" href="css/nivo-lightbox/nivo-lightbox.css">
    <link rel="stylesheet" href="css/nivo-lightbox/nivo-lightbox-theme.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/style2.css">


    <script src="js/modernizr.custom.js"></script>

 <script type="text/javascript">
    function load()
    {
    window.location.href = "#speciality";

    }
    </script>


</head>

<body>

    <a href="#header" id="back-to-top" class="top"><i class="fa fa-chevron-up"></i></a>
    <!-- HHHHHHHHHHHHHHHHHH        Preloader          HHHHHHHHHHHHHHHH -->
    <!-- <div id="preloader"></div> -->
    <!-- HHHHHHHHHHHHHHHHHH        Header          HHHHHHHHHHHHHHHH -->
    <section id="header" class="header">
        <div class="top-bar">
            <div class="container">
                <div class="navigation" id="navigation-scroll">
                        <div class="row">
                            <div class="col-md-11 col-xs-10">
                                <a href="Video-Conferencing.html"><span id="logo"><strong class="strong">K</strong>hidki</span></a>
                            </div>
                            <div class="col-md-1 col-xs-2">
                               
                            </div>
                        </div><!-- /.row -->
                    </div><!-- /.navigation -->
                </div><!--/.container-->
            </div><!--/.top-bar-->

        <div class="container">
            <div class="starting">
                <div class="row">
                    <div class="col-md-6">
                        <img src="https://www.lifesize.com/~/media/Images/Home%20Page/Device%20Collage_Employee.ashx?h=409&la=en&mh=409&mw=817&w=817" alt="LUCY" class="wow flipInY animated animated">
                    </div>
                    <div class="col-md-6">
                        <div class="banner-text">
                             <h2 class="animation-box wow bounceIn animated"><strong class="strong">Touch the world across seas...

</strong>
                            </h2>
                  <body onload="load()">         

 <a href="#footer" class="btn btn-sub">
                            <i ></i>
                            <strong> Try it Now >>></strong>
                          
                            </a>
                         
                            
                        </div> <!-- /.banner-text -->
                    </div>
                </div>
            </div>
            <!-- /.starting -->
        </div>
        <!-- /.container -->
    </section>
    <!-- /#header -->


    <!-- HHHHHHHHHHHHHHHHHH        Speciality         HHHHHHHHHHHHHHHH -->
    <div id="speciality" class="wrapper">
        <div class="container">



            <h2 class="animation-box wow bounceIn animated">Welcome</h2>


                  <!-- HHHHHHHHHHHHHHHHHH        Video          HHHHHHHHHHHHHHHH -->
    <article>

       


        
        
            <div class="make-center">
             

<script src="https://cdn.webrtc-experiment.com/FileBufferReader.js"></script>

<!-- socket.io for signaling -->
<script src="https://rtcmulticonnection.herokuapp.com/socket.io/socket.io.js"></script>

<hr>

<button id="join-room"  class="btn btn-sub" >Join Room</button>

<button id="open-room"    class="btn btn-sub" >Open Room</button>

<br><br>
   <label for="room-id">Room Id </label>
<input type="text" id="room-id" value="wanClouds"></br>
   <label for="room-id">User Id </label> 
<input type="text" id="user-id" value=""  placeholder="id is optional">
 
<button id="open-or-join-room"  style=" display:none;">Auto Open Or Join Room</button>
<hr>


 <div id="videos-container" style="height: 480; width: 640;" ></div>


  <p>
             Select Webcam
            </p>         
                      <select id="video-devices"></select>

            <select id="audio-devices" style="display: none"></select>
            <br />
            <br />
            <button id="select-device"   ">Select Device</button>
            <br />
 <div id="videos-container" style="height: 480; width: 640;" ></div>
<div  style=" display:none; id="chat-container">
    <input type="text" id="input-text-chat" placeholder="..." disabled>
    <button id="share-file" disabled>...</button>
    <br>



    <div id="file-container"></div>
    <div class="chat-output"></div>
</div>
<hr>



       
            <p>
                Khidki Live!
            </p>
    </div> <!-- /#video -->

    
            </div> <!-- /.row -->
        </div> <!-- /.container -->
    </div> <!-- /#speciality -->


   
     <!-- HHHHHHHHHHHHHHHHHH        Footer          HHHHHHHHHHHHHHHH -->

    <section id="footer" class="wrapper">
        <div class="container text-center">
            <div class="footer-logo">
                <h1 class="text-center animation-box wow bounceIn animated">Khidki</h1>
            </div>
            <ul class="social-icons text-center">
       
            </ul>

            <div class="copyright">
                <div class="credits">
                    Made by WanClouds
                </div>
                <div>Â©All Rights Reserved</div>
            </div>
        </div><!-- container -->
    </section>



    
    


    <!-- HHHHHHHHHHHHHHHHHH        Open/Close          HHHHHHHHHHHHHHHH -->
    <div class="overlay overlay-hugeinc">
        <button type="button" class="overlay-close">Close</button>
        <nav>
        <ul>
            <li class="hideit"><a href="#header">Home</a></li>
            <li class="hideit"><a href="#bigfeatures">Feature</a></li>
            <li class="hideit"><a href="#speciality">Speciality</a></li>
            <li class="hideit"><a href="#gallery">Gallery</a></li>
            <li class="hideit"><a href="#testimonial">Testimonial</a></li>
            <!-- <li class="hideit"><a href="#team">Team</a></li> -->
            <li class="hideit"><a href="#footer">Contact Us</a></li>
        </ul>
        </nav>
    </div>
    <script src="js/jquery-1.11.2.min.js"></script>
    <script src="js/wow.min.js"></script>
    <script src="js/owl-carousel.js"></script>
    <script src="js/nivo-lightbox.min.js"></script>
    <script src="js/smoothscroll.js"></script>
    <!--<script src="js/jquery.ajaxchimp.min.js"></script>-->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/script.js"></script>
    <script>
        new WOW().init();
    </script>
    <script>
        $(document).ready(function(){
            $(".hideit").click(function(){
                $(".overlay").hide();
            });
            $("#trigger-overlay").click(function(){
                $(".overlay").show();
            });
        });
    </script>
    <script>
        $(document).ready(function(){

          var kawa = $('.top-bar');
          var back = $('#back-to-top');
          function scroll() {
             if ($(window).scrollTop() > 700) {
                kawa.addClass('fixed');
                back.addClass('show-top');

             } else {
                kawa.removeClass('fixed');
                back.removeClass('show-top');
             }
          }

          document.onscroll = scroll;
        });
    </script>
    <!--HHHHHHHHHHHH        Smooth Scrooling     HHHHHHHHHHHHHHHH-->
    <script>
        $(function() {
          $('a[href*=#]:not([href=#])').click(function() {
            if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
              var target = $(this.hash);
              target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
              if (target.length) {
                $('html,body').animate({
                  scrollTop: target.offset().top
                }, 1000);
                return false;
              }
            }
          });
        });
    </script>
<script src="https://rtcmulticonnection.herokuapp.com/dist/RTCMultiConnection.js"></script>

<script type="text/javascript">

    
    // ......................................................
// .......................UI Code........................
// ......................................................
document.getElementById('open-room').onclick = function() {
    this.disabled = true;
    connection.open(document.getElementById('room-id').value);
};
document.getElementById('join-room').onclick = function() {
    this.disabled = true;
    connection.join(document.getElementById('room-id').value);
};
document.getElementById('open-or-join-room').onclick = function() {
    this.disabled = true;
    connection.openOrJoin(document.getElementById('room-id').value);
};
// ......................................................
// ................FileSharing/TextChat Code.............
// ......................................................
document.getElementById('share-file').onclick = function() {
    var fileSelector = new FileSelector();
    fileSelector.selectSingleFile(function(file) {
        connection.send(file);
    });
};
document.getElementById('input-text-chat').onkeyup = function(e) {
    if(e.keyCode != 13) return;
    
    // removing trailing/leading whitespace
    this.value = this.value.replace(/^\s+|\s+$/g, '');
    if (!this.value.length) return;
    
    connection.send(this.value);
    appendDIV(this.value);
    this.value =  '';
};
        var videosContainer = document.getElementById('videos-container') || document.body;
var chatContainer = document.querySelector('.chat-output');
function appendDIV(event) {
    var div = document.createElement('div');
    div.innerHTML = event.data || event;
    chatContainer.insertBefore(div, chatContainer.firstChild);
    div.tabIndex = 0; div.focus();
    
    document.getElementById('input-text-chat').focus();
}
// ......................................................
// ..................RTCMultiConnection Code.............
// ......................................................

var connection = new RTCMultiConnection();
connection.extra = {
  userid: (document.getElementById('user-id').value)
};

/////selelct camera code///

     connection.setDefaultEventsForMediaElement = false;

        connection.enumerateDevices(function(devices) {
            devices.forEach(appendOption);

            function appendOption(device) {
                var option = document.createElement('option');
                option.innerHTML = device.label || (device.kind + ': ' + device.deviceId);
                option.value = device.deviceId;

                if (device.kind.indexOf('audio') !== -1) {
                    selectAudioDevices.appendChild(option);
                } else selectVideoDevices.appendChild(option);
            }
        });

        document.getElementById('select-device').onclick = function() {
            this.disabled = true;
            connection.selectDevices(selectAudioDevices.value, selectVideoDevices.value);
        };

        var selectAudioDevices = document.getElementById('audio-devices');
        var selectVideoDevices = document.getElementById('video-devices');


///select camera////

connection.socketURL = 'https://rtcmulticonnection.herokuapp.com:443/';
connection.enableFileSharing = true; // by default, it is "false".
connection.session = {
    audio: true,
    video: true,
    data : true
};
connection.sdpConstraints.mandatory = {
    OfferToReceiveAudio: true,
    OfferToReceiveVideo: true
};
connection.onstream = function(event) {
  console.log(event.extra.userid);
    document.body.appendChild(event.mediaElement);
               videosContainer.insertBefore(event.mediaElement, videosContainer.firstChild);
                event.mediaElement.play();



};
connection.onmessage = appendDIV;
connection.filesContainer = document.getElementById('file-container');
connection.onopen = function() {
    document.getElementById('share-file').disabled      = false;
    document.getElementById('input-text-chat').disabled = false;
};
</script>




    
</body>
</html>
